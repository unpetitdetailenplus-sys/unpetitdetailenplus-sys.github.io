<!DOCTYPE html>
<html lang="pt">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Un Petit Détail en plus</title>

<style>
:root{
  --rose:#e8d1cc;
  --gold:#b8977e;
  --dark:#4a4a4a;
}

body{
  font-family:Arial;
  margin:0;
  background:#faf7f6;
}

/* TOPO */
header{
  text-align:center;
  padding:20px;
  background:white;
}

.lang{
  position:absolute;
  right:10px;
  top:10px;
}

/* PRODUTOS */
.grid{
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:10px;
  padding:10px;
}

.card{
  background:white;
  padding:10px;
  border-radius:10px;
  text-align:center;
}

button{
  background:var(--gold);
  color:white;
  border:none;
  padding:8px;
  border-radius:6px;
}

/* CARRINHO */
#cart{
  position:fixed;
  bottom:0;
  background:white;
  width:100%;
  border-top:2px solid var(--gold);
  padding:10px;
}
</style>

</head>

<body>

<header>
<h2>Un Petit Détail en plus</h2>

<div class="lang">
<button onclick="setLang('pt')">PT</button>
<button onclick="setLang('fr')">FR</button>
</div>
</header>

<!-- CATEGORIAS -->
<h3 id="tit">Cestas & Presentes</h3>

<div class="grid">

<div class="card">
<h4>Cesta Romântica</h4>
<p>45€</p>
<button onclick="add('Cesta Romântica',45)">Adicionar</button>
</div>

<div class="card">
<h4>Mamãe & Bebê</h4>
<p>55€</p>
<button onclick="add('Mamãe Bebê',55)">Adicionar</button>
</div>

<div class="card">
<h4>Chocolates & Flores</h4>
<p>40€</p>
<button onclick="add('Chocolate Flores',40)">Adicionar</button>
</div>

<div class="card">
<h4>Decoração Romântica</h4>
<p>70€</p>
<button onclick="add('Decoração',70)">Adicionar</button>
</div>

</div>

<!-- CARRINHO -->
<div id="cart">

<h4>Carrinho</h4>

<div id="items"></div>

<p>Total: <b id="total">0</b>€</p>

<select id="mode" onchange="calc()">
<option value="0">Retirada - Grátis</option>
<option value="5">Entrega Goussainville - 5€</option>
<option value="10">Entrega Île de France - 10€</option>
</select>

<input id="nome" placeholder="Seu nome">
<input id="end" placeholder="Endereço entrega">

<button onclick="send()">Finalizar no WhatsApp</button>

</div>

<script>
let cart=[];

function add(n,p){
 cart.push({n,p});
 show();
}

function show(){
 let h="";
 let t=0;

 cart.forEach((i,x)=>{
   h+=i.n+" - "+i.p+"€ <button onclick='del("+x+")'>x</button><br>";
   t+=i.p;
 });

 document.getElementById("items").innerHTML=h;
 document.getElementById("total").innerText=t;
 calc();
}

function del(i){
 cart.splice(i,1);
 show();
}

function calc(){
 let base=cart.reduce((a,b)=>a+b.p,0);
 let del=Number(mode.value);
 document.getElementById("total").innerText=base+del;
}

function send(){

let nome=document.getElementById("nome").value;
let end=document.getElementById("end").value;

let txt="Pedido Un Petit Détail%0A";

cart.forEach(i=>{
 txt+=i.n+" - "+i.p+"€%0A";
});

txt+="Total: "+document.getElementById("total").innerText+"€%0A";
txt+="Nome: "+nome+"%0A";
txt+="Endereço: "+end;

window.open("https://wa.me/33743529650?text="+txt);
}

/* IDIOMA */
function setLang(l){

if(l=="fr"){
 tit.innerText="Paniers & Cadeaux";
}else{
 tit.innerText="Cestas & Presentes";
}

}
</script>

</body>
</html>